/*!
 * name: next-weapp-background-audio
 * url: https://github.com/afeiship/next-weapp-background-audio
 * version: 1.0.0
 * date: 2019-08-14T06:33:00.590Z
 * license: MIT
 */
!function(){var t=t||this||window||Function("return this")(),i=t.nx||require("next-js-core2"),n=i.classify||require("next-classify"),e={title:"未命名",autoplay:!1,onChange:i.noop},o=["canplay","waiting","error","play","pause","seeking","seeked","ended","stop","timeUpdate","next","prev"],s={current:"currentTime"},a=i.declare("nx.WeappBackgroundAudio",{statics:{STATUS:{error:-1,init:0,play:1,pause:2,loaded:3,ended:4,canplay:5}},properties:{times:{get:function(){return{total:this.audio.duration,current:this.audio.currentTime}}},status:{get:function(){return this._status}}},methods:{init:function(t){this.options=i.mix(null,e,t),this.audio=wx.getBackgroundAudioManager(),this._status=a.STATUS.init,this.attachEvents(),i.forIn(this.options,function(t,i,n){("src"!==t||n.autoplay)&&this.prop(t,i)},this)},destroy:function(){},attachEvents:function(){var t=this;o.forEach(function(i){var e="on"+n(i);t.audio[e](function(i){t.change(i)})})},prop:function(t,i){var n=s[t]||t;if(void 0===i)return this.audio[n];this.audio[n]=i},change:function(t){this.onChange(t)},play:function(){var t=this.options.src;this.audio.src&&t?this.audio.play():this.audio.src=t},move:function(t){this.audio.seek(t)},"pause,stop,seek":function(t){return function(){return this.audio[t].apply(this.audio,arguments)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=a)}();